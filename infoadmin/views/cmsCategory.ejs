<%
  var catData = {};
  if(!cmsData){}else{
    catData = cmsData;
  }
%>
<!DOCTYPE html>
<html>
   <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title> CarryLush Application Management | Dashboard</title>
      <% include partials/cms/cssList %>
   </head>
   <body class="hold-transition skin-blue sidebar-mini">
      <div class="wrapper">
         <% include partials/cms/header %>
         <%- include('partials/cms/leftNav',{catData : catData}) %>
         <!-- Content Wrapper. Contains page content -->
         <div class="content-wrapper">
            <!-- Content Header (Page header) -->
            <section class="content-header">
               <h1>
                 Category
                  <small></small>
               </h1>
               <ol class="breadcrumb">
                  <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
                  <li class="active">Category</li>
               </ol>
            </section>
            <!-- Main content -->
            <section class="content">
               <div class="row">
                 <div class="col-xs-12">
         <div class="box">
           <div class="box-header">
             <h3 class="box-title">Category <span>(<%= catData.Category.length %>)</span></h3>
             <div class="box-tools">
               <span data-toggle="modal" data-target="#modal-success" class="label label-success">+ Add New Category</span>
             </div>
           </div>
           <!-- /.box-header -->
           <div class="box-body table-responsive no-padding">
             <table class="table table-hover">
               <thead>
                 <tr>
                   <th>Category</th>
                   <th>Description</th>
                   <th class="action-col">Action</th>
                 </tr>
               </thead>
               <tbody>
               <% if(catData){
                 catData.Category.forEach(function(cat){
                %>
                <tr id="<%= cat.Id %>" class="clickableRow category">
                  <!-- <td><= cat.Id %></td> -->
                  <td class="catName"><%= cat.Name %></td>
                  <td class="catDesc"><p class="elipsis"><%= cat.Description %></p></td>
                  <td>
                    <span data-catId="<%= cat.Id %>" data-toggle="modal" data-target="#modal-warning" class="label label-warning editCat">Edit</span>
                    <span data-catId="<%= cat.Id %>" data-toggle="modal" data-target="#modal-danger" class="label label-danger deleteCat">Delete</span>
                  </td>
                </tr>

                <%
              });
               }
               %>
             </tbody></table>
           </div>
           <!-- /.box-body -->
         </div>
         <!-- /.box -->
       </div>
               </div>
            </section>
            <!-- /.content -->
         </div>
         <!-- /.content-wrapper -->
         <% include partials/cms/footer %>
         <!--  include partials/cms/rightNav  -->
      </div>
      <% include partials/cms/jsList %>
      <!--model popup-->
      <div class="modal modal-warning fade" id="modal-warning" style="display: none;">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">×</span></button>
              <h4 class="modal-title">Warning Modal</h4>
            </div>
            <div class="modal-body">
              <form id="editCategoryForm" role="form">
                <input type="hidden" class="form-control" id="editCatId" placeholder="Enter email">
            <div class="box-body">
              <div class="form-group">
                <label for="exampleInputEmail1">Category</label>
                <input type="email" class="form-control" id="editCatName" placeholder="">
              </div>
              <div class="form-group">
                <label>Description - All about</label>
                <textarea class="form-control" rows="3" id="editCatDesc" placeholder=""></textarea>
              </div>
            </div>
          </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-outline pull-left" data-dismiss="modal">Close</button>
              <button id="editCategory" type="button" class="btn btn-outline">Save changes</button>
            </div>
          </div>
          <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
      </div>
      <div class="modal modal-danger fade" id="modal-danger" style="display: none;">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">×</span></button>
              <h4 class="modal-title">Danger Modal</h4>
            </div>
            <div class="modal-body">
              <form id="deleteCategoryForm" role="form">
                <p>Are you sure you want to delete this category?</p>
                <input type="hidden" class="form-control" id="deleteCatId" placeholder="Enter email">
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-outline pull-left" data-dismiss="modal">Close</button>
              <button id="deleteCategory" type="button" class="btn btn-outline">Save changes</button>
            </div>
          </div>
          <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
      </div>
      <div class="modal modal-success fade" id="modal-success" style="display: none;">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">×</span></button>
                <h4 class="modal-title">Success Modal</h4>
              </div>
              <div class="modal-body">
            <form id="newCategoryForm" role="form">
              <div class="box-body">
                <div class="form-group">
                  <label for="exampleInputEmail1">Category</label>
                  <input type="text" name="Name" class="form-control" id="newCatName" placeholder="Enter new category name">
                </div>
                <div class="form-group">
                  <label>Description - All about</label>
                  <textarea name="Description" id="newCatDesc" class="form-control" rows="3" placeholder="Category description"></textarea>
                </div>
              </div>
            </form>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-outline pull-left" data-dismiss="modal">Close</button>
                <button id="createNewCategory" type="button" class="btn btn-outline">Save changes</button>
              </div>
            </div>
            <!-- /.modal-content -->
          </div>
          <!-- /.modal-dialog -->
        </div>
   </body>
</html>
